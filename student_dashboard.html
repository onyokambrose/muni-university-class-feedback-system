<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Muni University - Student Feedback</title>
<style>
:root{
  --primary:#0f766e;
  --secondary:#06b6d4;
  --accent:#facc15;
  --bg-image:url('ambrose.jpg');
  --bg-gradient:linear-gradient(135deg,#06b6d4,#0f766e);
  --card-bg:#fff;
  --text-dark:#0f172a;
  --btn-hover:linear-gradient(135deg,#0e5d50,#05a6c0);
}
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(rgba(15,118,110,0.6),rgba(6,182,212,0.6)),var(--bg-image) no-repeat center center fixed;
  background-size:cover;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  color:var(--text-dark);
  overflow-x:hidden;
}
h1,h2{text-align:center;color:var(--primary);margin-bottom:20px;}
input,select,textarea,button{
  width:100%;
  margin-bottom:15px;
  padding:12px;
  border-radius:12px;
  border:1px solid #ccc;
  font-size:1em;
  transition:0.3s;
}
input:focus,select:focus,textarea:focus{
  outline:none;
  border-color:var(--secondary);
  box-shadow:0 0 10px rgba(6,182,212,0.3);
}
textarea{resize:none;min-height:80px;}
button{
  background:linear-gradient(135deg,#06b6d4,#0f766e);
  color:#fff;
  border:none;
  cursor:pointer;
  font-weight:bold;
  transition:0.4s;
}
button:hover{background:var(--btn-hover);}
.card{
  background:var(--card-bg);
  padding:30px;
  border-radius:20px;
  width:100%;
  max-width:600px;
  box-shadow:0 10px 25px rgba(0,0,0,0.2);
  display:flex;
  flex-direction:column;
  align-items:center;
  backdrop-filter:blur(10px);
  background-color:rgba(255,255,255,0.9);
}
.tabs{
  display:flex;
  width:100%;
  margin-bottom:20px;
}
.tab{
  flex:1;
  padding:10px;
  text-align:center;
  cursor:pointer;
  border-bottom:3px solid transparent;
  font-weight:500;
  transition:0.3s;
}
.tab.active{border-color:var(--secondary);font-weight:bold;}
.stars{
  display:flex;
  justify-content:center;
  margin-bottom:15px;
}
.star{
  font-size:2em;
  color:#ccc;
  cursor:pointer;
  margin:0 3px;
  transition:0.3s;
}
.star.selected{color:var(--accent);}
.student-section{
  display:none;
  flex-direction:column;
  width:100%;
}
.student-section.active{display:flex;}
#toast{
  visibility:hidden;
  min-width:250px;
  background:#333;
  color:#fff;
  text-align:center;
  border-radius:8px;
  padding:16px;
  position:fixed;
  z-index:1000;
  left:50%;
  bottom:30px;
  transform:translateX(-50%);
  font-size:16px;
}
#toast.show{
  visibility:visible;
  animation:fadein 0.5s,fadeout 0.5s 2.5s;
}
@keyframes fadein{from{bottom:0;opacity:0;}to{bottom:30px;opacity:1;}}
@keyframes fadeout{from{bottom:30px;opacity:1;}to{bottom:0;opacity:0;}}
.feedback-list{
  width:100%;
  max-height:300px;
  overflow-y:auto;
  border-top:1px solid #ccc;
  padding-top:10px;
}
.feedback-item{
  background:#f9fafb;
  border-radius:12px;
  padding:10px 15px;
  margin-bottom:10px;
  box-shadow:0 2px 8px rgba(0,0,0,0.1);
}
.feedback-item h4{color:var(--primary);margin-bottom:5px;}
.feedback-item small{color:#555;display:block;margin-bottom:5px;}
.feedback-item p{margin:5px 0;}
.feedback-item .stars-display{color:var(--accent);}
.admin-reply{
  background:#ecfdf5;
  border-left:4px solid var(--secondary);
  padding:8px 10px;
  border-radius:8px;
  margin-top:6px;
  color:#064e3b;
}
#aboutContentStudent {
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:20px;
  border-radius:20px;
  background-color: rgba(255,255,255,0.9);
  backdrop-filter:blur(10px);
  box-shadow:0 10px 25px rgba(0,0,0,0.2);
  text-align:center;
  margin-bottom:20px;
}
#aboutContentStudent h2{color:var(--primary); margin-bottom:15px;}
#aboutContentStudent p{color:var(--text-dark); margin-bottom:10px; line-height:1.6;}
</style>
</head>
<body>

<div class="card" id="authCard">
  <h1>-Muni University- <br> Class Feedback System</h1>
  <div class="tabs">
    <div class="tab active" id="signinTab">Sign In</div>
    <div class="tab" id="signupTab">Sign Up</div>
  </div>
  <div id="signinForm">
    <input type="email" id="signinEmail" placeholder="Email" required>
    <input type="password" id="signinPassword" placeholder="Password" required>
    <button id="signinBtn">Sign In</button>
  </div>
  <div id="signupForm" class="hidden">
    <input type="text" id="signupName" placeholder="Full Name" required>
    <input type="email" id="signupEmail" placeholder="Email" required>
    <input type="password" id="signupPassword" placeholder="Password" required>
    <button id="signupBtn">Sign Up</button>
  </div>
</div>

<div class="card" id="studentDashboard" style="display:none; flex-direction:column;">
  <h1 id="studentWelcome">Welcome!</h1>
  <div class="tabs" style="margin-bottom:20px;">
    <div class="tab active" id="dashHomeTab">Home</div>
    <div class="tab" id="dashAboutTab">About</div>
    <div class="tab" id="dashFeedbackTab">My Feedback</div>
  </div>
  <div class="student-sections" style="display:flex; flex-direction:column; width:100%;">
    <div class="student-section active" id="homeSection">
      <select id="course">
        <option value="">-- Choose Course --</option>
        <option>ITM1131: Web Application Development</option>
        <option>ISM1131: Foundations of Information Systems</option>
        <option>CFT1101: Teaching, Learning and Assessment</option>
        <option>CSM1131: Discrete Mathematics</option>
        <option>ITM1132: Computer Repair and Assembly</option>
      </select>
      <div class="stars" id="stars">
        <span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span>
      </div>
      <textarea id="comment" placeholder="Write your feedback..."></textarea>
      <button id="submitFeedback">Submit Feedback</button>
    </div>
    <div class="student-section" id="aboutSection">
      <div id="aboutContentStudent">
        <div style="font-size:3em; margin-bottom:10px; color:var(--secondary);">ℹ️</div>
        <h2>About Muni University Feedback System</h2>
        <p>
          This system allows students to submit feedback on their courses. 
          Students can rate courses, write comments, and view their own feedback history.
        </p>
        <p>
          Your feedback helps improve the quality of teaching and learning at Muni University.
        </p>
      </div>
    </div>
    <div class="student-section" id="feedbackSection">
      <div class="feedback-list" id="feedbackList"></div>
    </div>
  </div>
</div>

<div id="toast"></div>

<script>
const signinTab = document.getElementById('signinTab');
const signupTab = document.getElementById('signupTab');
const signinForm = document.getElementById('signinForm');
const signupForm = document.getElementById('signupForm');

signinTab.onclick = () => {
  signinTab.classList.add('active');
  signupTab.classList.remove('active');
  signinForm.classList.remove('hidden');
  signupForm.classList.add('hidden');
};
signupTab.onclick = () => {
  signupTab.classList.add('active');
  signinTab.classList.remove('active');
  signupForm.classList.remove('hidden');
  signinForm.classList.add('hidden');
};

const dashHomeTab = document.getElementById('dashHomeTab');
const dashAboutTab = document.getElementById('dashAboutTab');
const dashFeedbackTab = document.getElementById('dashFeedbackTab');
const homeSection = document.getElementById('homeSection');
const aboutSection = document.getElementById('aboutSection');
const feedbackSection = document.getElementById('feedbackSection');

dashHomeTab.onclick = () => {
  dashHomeTab.classList.add('active');
  dashAboutTab.classList.remove('active');
  dashFeedbackTab.classList.remove('active');
  homeSection.classList.add('active');
  aboutSection.classList.remove('active');
  feedbackSection.classList.remove('active');
};
dashAboutTab.onclick = () => {
  dashAboutTab.classList.add('active');
  dashHomeTab.classList.remove('active');
  dashFeedbackTab.classList.remove('active');
  homeSection.classList.remove('active');
  aboutSection.classList.add('active');
  feedbackSection.classList.remove('active');
};
dashFeedbackTab.onclick = () => {
  dashFeedbackTab.classList.add('active');
  dashHomeTab.classList.remove('active');
  dashAboutTab.classList.remove('active');
  homeSection.classList.remove('active');
  aboutSection.classList.remove('active');
  feedbackSection.classList.add('active');
  renderFeedback();
};

document.getElementById('signupBtn').onclick=()=>{
  const name=document.getElementById('signupName').value.trim();
  const email=document.getElementById('signupEmail').value.trim();
  const pass=document.getElementById('signupPassword').value.trim();
  if(!name||!email||!pass){alert('Fill all fields');return;}
  let users=JSON.parse(localStorage.getItem('students')||'[]');
  if(users.find(u=>u.email===email)){alert('Email already exists');return;}
  users.push({name,email,pass});
  localStorage.setItem('students',JSON.stringify(users));
  showToast('✅ Signup successful! Please sign in.');
  signinTab.click();
};

let currentUser=null;
document.getElementById('signinBtn').onclick=()=>{
  const email=document.getElementById('signinEmail').value.trim();
  const pass=document.getElementById('signinPassword').value.trim();
  const users=JSON.parse(localStorage.getItem('students')||'[]');
  const user=users.find(u=>u.email===email&&u.pass===pass);
  if(!user){alert('Invalid credentials');return;}
  currentUser=user;
  localStorage.setItem('currentUser',JSON.stringify(user));
  document.getElementById('authCard').style.display='none';
  const dash=document.getElementById('studentDashboard');
  dash.style.display='flex';
  document.getElementById('studentWelcome').textContent=`Welcome, ${user.name}!`;
};

const stars=document.querySelectorAll('#homeSection .star');
let selectedRating=0;
stars.forEach((s,i)=>s.onclick=()=>{
  selectedRating=i+1;
  stars.forEach((st,j)=>st.classList.toggle('selected',j<selectedRating));
});

document.getElementById('submitFeedback').onclick=()=>{
  const course=document.getElementById('course').value;
  const comment=document.getElementById('comment').value.trim();
  const user=JSON.parse(localStorage.getItem('currentUser'));
  if(!user){alert('Please sign in first!');return;}
  if(!course||!selectedRating){alert('Select course and rating');return;}
  let feedback=JSON.parse(localStorage.getItem('feedbackList')||'[]');
  feedback.push({name:user.name,email:user.email,course,rating:selectedRating,comment,date:new Date().toLocaleString()});
  localStorage.setItem('feedbackList',JSON.stringify(feedback));
  showToast('Feedback submitted successfully!');
  document.getElementById('course').value='';
  document.getElementById('comment').value='';
  selectedRating=0;
  stars.forEach(s=>s.classList.remove('selected'));
};

function renderFeedback(){
  const listDiv=document.getElementById('feedbackList');
  const feedback=JSON.parse(localStorage.getItem('feedbackList')||'[]');
  const user=JSON.parse(localStorage.getItem('currentUser'));
  const myFeedback=feedback.filter(f=>f.email===user.email);
  if(myFeedback.length===0){listDiv.innerHTML='<p>No feedback submitted yet.</p>';return;}
  listDiv.innerHTML=myFeedback.map(f=>`
    <div class="feedback-item">
      <h4>${f.name}</h4>
      <small>${f.course} | ${f.date}</small>
      <div class="stars-display">${'★'.repeat(f.rating)}${'☆'.repeat(5-f.rating)}</div>
      <p>${f.comment||'<em>No comment</em>'}</p>
      ${f.reply?`<div class="admin-reply"><strong>Admin reply:</strong> ${f.reply}</div>`:''}
    </div>
  `).join('');
}

function showToast(msg){
  const toast=document.getElementById('toast');
  toast.textContent=msg;
  toast.className='show';
  setTimeout(()=>{toast.className='';},3000);
}
</script>
</body>
</html>
